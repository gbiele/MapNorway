% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/leaflet_map.R
\name{leaflet_map}
\alias{leaflet_map}
\title{Create an Interactive Leaflet Map of Median Income}
\usage{
leaflet_map(sf_data, fill = "med_inc", name_col = "navn", display_digits = 1)
}
\arguments{
\item{sf_data}{An sf object containing the map data. Must include columns
"med_inc" for median income, "N" for population/weight, and a column
with area names (e.g., "kommunenavn" or "navn").}

\item{fill}{Variable used for fill colors (e.g., "med_inc").}

\item{name_col}{The name of the column to use for popups, as a string.}

\item{display_digits}{Numeric. The number of digits to display for the income
values in popups and the legend. This is passed to the \code{accuracy} argument
of \code{scales::label_number}. For integer values, use \code{1}. For one decimal place, use \code{0.1}, etc.}
}
\value{
A leaflet map widget.
}
\description{
This function takes a spatial data frame and generates an interactive,
zoomable map using the leaflet package, styled similarly to the ggplot2 version.
}
\examples{
\dontrun{
  # Assuming 'm' is your sf data frame from the previous steps
  # and contains the necessary columns.
  # Example with dummy data for illustration
  library(sf)
  library(dplyr)
  library(leaflet)
  library(scales)

  # Create some dummy sf data
  set.seed(123)
  dummy_sf_data <- st_as_sf(data.frame(
    id = 1:5,
    navn = c("Area A", "Area B", "Area C", "Area D", "Area E"),
    med_inc = c(50000.12, 65234.56, 42123.78, 78901.23, 55000.00),
    N = c(1000, 1500, 800, 2000, 1200),
    geometry = st_sfc(
      st_polygon(list(cbind(c(0,0,1,1,0),c(0,1,1,0,0)))),
      st_polygon(list(cbind(c(1,1,2,2,1),c(0,1,1,0,0)))),
      st_polygon(list(cbind(c(0,0,1,1,0),c(1,2,2,1,1)))),
      st_polygon(list(cbind(c(1,1,2,2,1),c(1,2,2,1,1)))),
      st_polygon(list(cbind(c(2,2,3,3,2),c(0,1,1,0,0))))
    )
  ), crs = 4326)

  # Create map with default digit display (integer)
  map1 <- leaflet_map(dummy_sf_data, name_col = "navn")
  print(map1)

  # Create map showing one decimal place
  map2 <- leaflet_map(dummy_sf_data, name_col = "navn", display_digits = 0.1)
  print(map2)

  # Create map showing no decimal places (rounding to nearest thousand)
  map3 <- leaflet_map(dummy_sf_data, name_col = "navn", display_digits = 1000)
  print(map3)
}
}
