% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{create_inset_map}
\alias{create_inset_map}
\title{Create a Map with County and City District Insets}
\usage{
create_inset_map(
  fylker,
  bydeler,
  scaling_params = c(Oslo = 2.5, Bergen = 3.5, Stavanger = 3.5, Trondheim = 3.5),
  x_offset_params = c(Oslo = 0.005, Bergen = 0.9, Stavanger = 1, Trondheim = 0.7),
  y_offset_params = c(Oslo = 0.005, Bergen = 0.5, Stavanger = 0, Trondheim = 0.8)
)
}
\arguments{
\item{fylker}{An \code{sf} object representing the base map of Norwegian counties.
It should contain the columns \code{navn} and \code{nummer}.}

\item{bydeler}{A named list of \code{sf} objects, where each list element is a
city and contains the \code{sf} data for its districts. Each \code{sf} object
should contain \code{bydelnavn} and \code{bydelnr}.}

\item{scaling_params}{A named numeric vector specifying the scaling divisor for
each city inset. Larger numbers result in smaller insets. Names must
match the names in the \code{bydeler} list.}

\item{x_offset_params}{A named numeric vector (0-1) for placing the insets
horizontally. 0 is the far left, 1 is the far right of the main map's
bounding box.}

\item{y_offset_params}{A named numeric vector (0-1) for placing the insets
vertically. 0 is the bottom, 1 is the top of the main map's
bounding box.}
}
\value{
An \code{sf} object combining the county geometries with the scaled and
translated city district inset geometries. A new \code{level} column is added
to distinguish between "fylke" and "bydel".
}
\description{
This function takes a map of Norwegian counties (\code{fylker}) and a list of
city districts (\code{bydeler}) maps and creates a composite map. The city districts
are scaled and placed as insets around the main county map.
}
\examples{
\dontrun{
  # This example requires the data to be loaded first, for instance using
  # the load_and_process_kommuner() and load_and_process_bydeler() functions.

  # Define parameters for the insets
  scaling <- c(Oslo = 2.5, Bergen = 3.5, Stavanger = 3.5, Trondheim = 3.5)
  x_offsets <- c(Oslo = 0.005, Bergen = 0.9, Stavanger = 1, Trondheim = 0.7)
  y_offsets <- c(Oslo = 0.005, Bergen = 0.5, Stavanger = 0.0, Trondheim = 0.8)

  # Generate the final map object
  map_with_insets <- create_inset_map(
    fylker = fylke,
    bydeler = bydeler,
    scaling_params = scaling,
    x_offset_params = x_offsets,
    y_offset_params = y_offsets
  )

  # Plot using ggplot2
  if (requireNamespace("ggplot2", quietly = TRUE)) {
    library(ggplot2)
    ggplot(data = map_with_insets) +
      geom_sf(aes(fill = level))
  }
}
}
