% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{create_KommuneBydel_map}
\alias{create_KommuneBydel_map}
\title{Prepare Norway Map Data}
\usage{
create_KommuneBydel_map(
  kommune_path,
  bydel_path,
  fylker_path,
  kommuner_to_exclude = c("Oslo", "Bergen", "Stavanger", "Trondheim - Tråante"),
  simplification_keep_ratio = 0.005
)
}
\arguments{
\item{kommune_path}{A character string. The file path to the GML file containing
kommune (municipality) geographical data. Expected columns: \code{kommunenummer} (numeric/character),
\code{kommunenavn} (character), and a geometry column named \code{omrade}.}

\item{bydel_path}{A character string. The file path to the GML file containing
bydel (city district) geographical data. Expected columns: \code{bydelnr} (numeric/character),
\code{bydelnavn} (character), and a geometry column named \code{geom}.}

\item{fylker_path}{A character string. The file path to the GeoJSON file containing
fylke (county) geographical data. Expected columns: \code{navn} (character),
\code{nummer} (numeric/character), and a geometry column named \code{geometry}.}

\item{kommuner_to_exclude}{A character vector. Names of municipalities to be
excluded from the final map data (e.g., "Oslo", "Bergen").}

\item{simplification_keep_ratio}{A numeric value between 0 and 1. The proportion
of vertices to keep when simplifying geometries using \code{rmapshaper::ms_simplify}.
A lower value results in more simplification.}
}
\value{
An \code{sf} (simple feature) data frame containing the processed and combined
map data for Norway, with harmonized CRS, geometry names, and simplified geometries.
The returned data frame will have columns: \code{Nr} (municipality/bydel number),
\code{navn} (municipality/bydel name), \code{fylkenavn} (county name), \code{fylkeNR} (county number),
and \code{geometry} (the spatial geometry).
}
\description{
This function loads geospatial data for Norwegian municipalities (kommuner),
city districts (bydeler), and counties (fylker), harmonizes their Coordinate
Reference Systems (CRS) and geometry column names, performs spatial intersections
to ensure data consistency, filters out specific large municipalities,
combines the processed kommune and bydel data, and simplifies the geometries.
}
\examples{
\dontrun{
# Assuming data files are in a 'data-raw' directory relative to your R project
# final_map <- prepare_norway_map_data(
#   kommune_path = "data-raw/kommune.gml",
#   bydel_path = "data-raw/bydel2020_mednavn.gml",
#   fylker_path = "data-raw/Fylker.geojson",
#   kommuner_to_exclude = c("Oslo", "Bergen", "Stavanger", "Trondheim - Tråante"),
#   simplification_keep_ratio = 0.0005
# )
# plot(final_map)
}
}
